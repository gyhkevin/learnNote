<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>testAbsurdJS</title>
	<script type="text/javascript">
		var TemplateEngine = function(tpl, data){
			var re = /<%([^%]+)?%>/g,
				code = 'var r=[];\n',
				cursor = 0;
			var add = function(line){
				code += 'r.push("' + line.replace(/"/g, '\\"') + '");\ ';
			}
			while(match = re.exec(tpl)){
				add(tpl.slice(cursor, match.index));
				add(match[1]);
				tpl = tpl.replace(match[0], data[match[1]])
			}
			return tpl;
		}
		var template = '<p>Hello, my name is <%this.name%>. I\'m <%this.profile.age%> year old.</p>';
		console.log(TemplateEngine(template, {
			name:'Kevin',
			profile: { age:27 }
		}));
		var str = '00:24:21:19:BD:E4';
		var pattern = /[A-F|a-f|0-9]{2}:[A-F|a-f|0-9]{2}:[A-F|a-f|0-9]{2}:[A-F|a-f|0-9]{2}:[A-F|a-f|0-9]{2}:[A-F|a-f|0-9]{2}/;
		mac = str.match(pattern);
		console.log(mac[0]);
		
		var auth_redirect_url = 'http://www.baidu.com/abc.html';
		var pattern = /^((https|http)?:\/\/)([0-9a-z_!~*'()-]+\.)*[a-z]{2,6}(\/*)(.+)/;
		var redirect_url = auth_redirect_url.match(pattern);
		if (auth_redirect_url == redirect_url[0]) {
			console.log(redirect_url)
			console.log(true);
		}else{
			console.log(redirect_url)
			console.log(false);
		};
		
	</script>
</head>
<body>
	<span>参考文章：</span>
	<a href="http://blog.jobbole.com/56689/" target="_blank">只有20行的JavaScript代码</a>>
</body>
</html>